# Поток событий
---

# Содержание
1 [Актёры](#actors)  
2 [Варианты использования](#use_case)  
2.1 [Войти в приложение](#sign_in_to_the_app)  
2.2 [Создать новое хранилище паролей](#create_storage)  
2.3 [Войти в своё хранилище паролей](#log_in_to_your_storage)  
2.4 [Посмотреть пароли из хранилища](#view_passwords)  
2.5 [Добавить пароль](#add_password)  
2.6 [Удалить пароль](#delete_password)  
2.7 [Автоматически авторизироваться](#auto)  
2.8 [Придумать пароль](#generation)  

<a name="actors"/>

# 1 Актёры

| Актёр | Описание |
|:--|:--|
|Новый пользователь| Человек, который использует приложение и ещё не создал хранилище паролей |
| Пользователь | Человек, который использует приложение с созданным хранилищем паролей |

<a name="use_case"/>

# 2 Варианты использования

<a name="sign_in_to_the_app"/>

## 2.1 Войти в приложение

**Описание.** Вариант использования "Войти в приложение" позволяет пользователю войти в приложение.  
**Основной поток.**
1. Вариант использования начинается, когда пользователь запускает приложение;
2. Приложение отображает возможные способы входа: [войти в свое хранилище паролей](#log_in_to_your_storage), [создать новое хранилище паролей](#create_storage);
3. Пользователь выбирает один из способов входа;
4. Выполняется вариант использования, связанный с выбранным способом входа в приложение.
Если вариант использования завершается досрочно, возврат к п.2 основного потока; 
5. Приложение скрывает окно входа;
6. Приложение отображает главное окно приложения;
7. Вариант использования завершается.

<a name="create_storage"/>

## 2.2 Создать новое хранилище паролей

**Описание.** Вариант использования "Создать новое хранилище паролей" позволяет пользователю создать новое хранилище паролей.  
**Предусловия.** Пользователь выбрал способ "Создать новое хранилище паролей" для входа в приложение или новый пользователь выразил желание создать своё хранилище паролей, выбрав пункт меню "Создать новое хранилище паролей".  
**Основной поток.**
1. Приложение отображает окно создания хранилища;
2. Приложение запрашивает у пользователя ввод мастер-пароля;
3. Пользователь придумывает и вводит мастер-пароль;
4. Пользователь нажимает кнопку "Создать хранилище"; 
5.  Приложение проверят введённый пароль на наличие запрещенных символов. Если выявлено наличие таких символов, выполняется альтернативный поток А1;
6. Приложение создает файл для хранения паролей пользователя;
7. Приложение записывает в файл закодированный мастер-пароль;
8. Приложение скрывает окно создания хранилища;
9. Вариант использования завершается.

**Альтернативный поток А1.**
1. Приложение сообщает пользователю, что такой мастер-пароль не подходит;
2. Приложение очищает поле для ввода пароля;
3. Возврат к п.2 основного потока.

**Дополнительная информация.** Пользователь имеет возможность отменить действие до создания нового хранилища. В случае отмены выполняется альтернативный поток А2.

**Альтернативный поток А2.**
1. Приложение скрывает окно создания хранилища;
2. Вариант использования завершается досрочно.

<a name="log_in_to_your_storage"/>

## 2.3 Войти в своё хранилище паролей

**Описание.** Вариант использования "Войти в своё хранилище паролей" позволяет пользователю получить доступ к своему хранилищу паролей.  
**Предусловия.** Пользователь выбрал способ "Войти в своё хранилище паролей" для входа в приложение.  
**Основной поток.**
1. Приложение отображает окно входа в хранилище паролей;
2. Приложение запрашивает у пользователя ввод мастер-пароля;
3. Пользователь вводит свой мастер-пароль;
4. Пользователь нажимает кнопку "Войти в хранилище";
5. Приложение декодирует мастер-пароль, который хранится в существующем хранилище и запоминает его;
6. Приложение проверят введённый мастер-пароль на совпадение с мастер-паролем, который был получен в п.4. Если совпадение не выявлено, выполняется альтернативный поток А3;
7. Приложение скрывает окно входа в хранилище паролей;
8. Вариант использования завершается.

**Альтернативный поток А3.**
1. Приложение сообщает пользователю, что мастер-пароль введен неверно;
2. Приложение очищает поле для ввода мастер-пароля;
3. Возврат к п.2 основного потока.

**Дополнительная информация.** Пользователь имеет возможность отменить действие до подтверждения выбора имени. В случае отмены выполняется альтернативный поток А3.

**Альтернативный поток А4.**
1. Приложение скрывает окно входа в хранилище паролей;
2. Вариант использования завершается досрочно.

<a name="view_passwords"/>

## 2.4 Посмотреть пароли из хранилища

**Описание.** Вариант использования "Посмотреть пароли из хранилища" позволяет пользователю увидеть пароли, которые находятся в его хранилище.  
**Предусловия.** Пользователь вошел в свое хранилище паролей.  
**Основной поток.**
1. Приложение получает информацию из хранилища и выводит ее на экран в виде таблицы;
2. Вариант использования завершается.

<a name="add_password"/>

## 2.5 Добавить пароль

**Описание.** Вариант использования "Добавить пароль" позволяет пользователю добавлять новые пароли в хранилище.  
**Предусловия.** Пользователь выбрал во вкладке "Инструменты" пункт "Добавить пароль".  
**Основной поток.**
1. Приложение отображает окно добавления пароля;
2. Приложение запрашивает у пользователя ввод логина, пароля и примечания к ним;
3. Пользователь вводит запрашиваемую в п.2 информацию "Добавить";
4. Приложение проверяет введенные данные на наличие запрещенных символов. Если выявлено наличие таких символов, выполняется альтернативный поток А5; 
5. Приложение кодирует введенные данные и добавляет их в хранилище;
6. Приложение сообщает пользователю, что добавление пароля выполнено успешно;
7. Приложение скрывает окно добавления пароля и открывает главное окно приложения, в котором будет отображаться добавленный пароль;
8. Вариант использования завершается.

**Альтернативный поток А5.**
1. Приложение сообщает пользователю, что данные введены некорректно;
2. Приложение очищает поля для ввода;
3. Возврат к п.2 основного потока.

<a name="delete_password"/>

## 2.6 Удалить пароль

**Описание.** Вариант использования "Удалить пароль" позволяет пользователю удалять пароли из хранилища.  
**Предусловия.** Открыто главное окно приложения.  
**Основной поток.**
1. Пользователь выбирает строку в таблице, содержащую пароль, который необходимо удалить;
2. Пользователь нажимает кнопку "Удалить запись";
3. Прилолжение ищет выбранный пароль в хранилище и удаляет его;
4. Приложение обновляет главное окно приложения, на котором теперь не будет отображаться выбранная в п.1 строка;
5. Вариант использования завершается.

<a name="auto"/>

## 2.7 Автоматически авторизироваться

**Описание.** Вариант использования "Автоматически авторизироваться" позволяет пользователю авторизироваться без ввода логина и пароля с клавиатуры.  
**Предусловия.** Пользоваетель вошёл в приложение.  
**Основной поток.**
1. Пользователь сворачивает приложение и открывает окно, где необходимо осуществить авторизацию, и устанавливает курсор в поле для ввода пароля;
2. Пользователь разворачивает приложение и выбирает строку в таблице, содержащую пароль,  необходимый для авторизации;
3. Пользователь нажимает кнопку "Вставить автоматически";
4. Приложение ищет выбранный пароль и логин в хранилище, декодирует их и запоминает;
5. Логин, полученный в п.4 приложение помещает в буфер обмена;
6. Приложение сворачивается, и пароль, полученный в п.4 вставляется в поле для ввода пароля;
7. Вариант использования завершается.
 

<a name="generation"/>

## 2.8 Придумать пароль

**Описание.** Вариант использования "Придумать пароль" позволяет пользователю получить пароль состоящий из случайных символов.  
**Предусловия.** Пользователь выбрал во вкладке "Инструменты" пункт "Придумать пароль".    
**Основной поток.**
1. Приложение отображает окно генерации пароля;
2. Приложение предлагает пользователю выбрать типы символов, из которых будет состоять пароль и указать его длинну;
3. Пользователь указывает нужные характеристики пароля и нажимает на кнопку "Создать";
4. Приложение выводит на экран сгенерированный пароль; 
5. Вариант использования завершается.
